<html lang="en">
    <head>
        <title>Persistent File Systems Access Tester</title>
        <meta charset="utf-8">
        <meta http-equiv="Content-Security-Policy"
              content="img-src self
                               https://raw.githubusercontent.com/LiaHiscock/PWA/main/MediaControls/App1/pink.png
                               https://liahiscock.github.io/PWA/FileSystemAccess/">
        <link rel="manifest" href="./manifest.webmanifest">
        <link rel="icon" href="pink.png">
    </head>

    <body>
       <button type="button" onclick="requestPermissions()" id="requestPermsButton">
        request permissions
       </button>
       <br>
       <textarea id="fileContent" placeholder="NO CONTENT YET"></textarea>
    </body>

    <script src="./app.js"></script>
    <script>
        function requestPermissions() {
            console.log("requested permissions");

            let fileHandle;
            let requestPermsButton = document.getElementById("requestPermsButton");
            requestPermsButton.addEventListener('click', async () => {
                // Destructure the one-element array.
                [fileHandle] = await window.showOpenFilePicker();
                // Do something with the file handle.
                const file = await fileHandle.getFile();
                const contents = await file.text();

                document.getElementById("fileContent").value = contents;
            });
        }

    </script>
</html>

<!-- Sources -->